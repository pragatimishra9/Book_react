{"ast":null,"code":"import _regeneratorRuntime from\"/home/pragatim/code/BookAnAppointment_react/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/pragatim/code/BookAnAppointment_react/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/pragatim/code/BookAnAppointment_react/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import Request from'../Actions/Request';import Navbar from'./Navbar';import{config}from'../Services/Constants';import{fillDoctorBookingDetails,handleSelectedTimeSlot,bookAppointment}from'../Services/HomeServices';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),doctors=_useState2[0],setDoctors=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),currentDoctorId=_useState4[0],setCurrentDoctorId=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),patientName=_useState6[0],setPatientName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),patientEmail=_useState8[0],setPatientEmail=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),patientContact=_useState10[0],setPatientContact=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),bookingDate=_useState12[0],setBookingDate=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),timeSlots=_useState14[0],setTimeSlots=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),selectedTimeSlot=_useState16[0],setSelectedTimeSlot=_useState16[1];useEffect(function(){function getAllDoctors(){return _getAllDoctors.apply(this,arguments);}function _getAllDoctors(){_getAllDoctors=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(Request.doctorInfo,config);case 2:res=_context.sent;setDoctors(res.data);case 4:case\"end\":return _context.stop();}},_callee);}));return _getAllDoctors.apply(this,arguments);}getAllDoctors();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:doctors.map(function(doctor){return/*#__PURE__*/_jsx(\"div\",{className:\"col-3 mt-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card border border-4\",children:[/*#__PURE__*/_jsx(\"img\",{class:\"card-img-top w-75 h-50\",src:\"https://i.pinimg.com/originals/9f/32/20/9f3220f4535dd9cd9743b995fdfdeaa1.jpg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"card-title\",children:doctor.name}),/*#__PURE__*/_jsxs(\"p\",{class:\"card-text\",children:[\"Start Time : \",doctor.day_start_time,\" \",/*#__PURE__*/_jsx(\"br\",{}),\" End Time : \",doctor.day_end_time,\" \",/*#__PURE__*/_jsx(\"br\",{}),\" Slot Period : \",doctor.appointment_slot_time]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-primary\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",onClick:function onClick(e){return fillDoctorBookingDetails(doctor.id,setCurrentDoctorId,setTimeSlots,doctors);},children:\"Book Appointment\"})]})]})});})})}),/*#__PURE__*/_jsx(\"div\",{class:\"modal fade\",id:\"exampleModal\",tabindex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"modal-title fs-5\",id:\"exampleModalLabel\",children:\"Enter Your Details\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"input-group-text\",id:\"basic-addon1\",children:\"Select Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",class:\"form-control\",value:bookingDate,onChange:function onChange(e){setBookingDate(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"input-group-text\",id:\"basic-addon1\",children:\"Enter Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",value:patientName,onChange:function onChange(e){setPatientName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"input-group-text\",id:\"basic-addon1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",class:\"form-control\",value:patientEmail,onChange:function onChange(e){setPatientEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"input-group-text\",id:\"basic-addon1\",children:\"Contact\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",value:patientContact,onChange:function onChange(e){setPatientContact(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\"Selected Time Slot : \",selectedTimeSlot]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:timeSlots.map(function(timeslt){return/*#__PURE__*/_jsx(\"div\",{className:\"col-4 m-2 border border-3 rounded-pill border-warning\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"input-group mx-auto\",children:[/*#__PURE__*/_jsx(\"input\",{class:\"m-2\",type:\"checkbox\",value:timeslt,onChange:function onChange(e){return handleSelectedTimeSlot(e,setSelectedTimeSlot);}}),/*#__PURE__*/_jsx(\"span\",{class:\"input-group-text-4 m-1\",children:timeslt})]})});})})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-info\",onClick:function onClick(){return bookAppointment(currentDoctorId,bookingDate,selectedTimeSlot,patientName,patientEmail,patientContact);},children:\"Book\"})]})]})})})]});}export default Home;","map":{"version":3,"names":["React","useState","useEffect","axios","Request","Navbar","config","fillDoctorBookingDetails","handleSelectedTimeSlot","bookAppointment","Home","doctors","setDoctors","currentDoctorId","setCurrentDoctorId","patientName","setPatientName","patientEmail","setPatientEmail","patientContact","setPatientContact","bookingDate","setBookingDate","timeSlots","setTimeSlots","selectedTimeSlot","setSelectedTimeSlot","getAllDoctors","get","doctorInfo","res","data","map","doctor","name","day_start_time","day_end_time","appointment_slot_time","e","id","target","value","timeslt"],"sources":["/home/pragatim/code/BookAnAppointment_react/frontend/src/components/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Request from '../Actions/Request';\nimport Navbar from './Navbar';\nimport { config } from '../Services/Constants';\nimport { fillDoctorBookingDetails, handleSelectedTimeSlot, bookAppointment } from '../Services/HomeServices';\n\n\nfunction Home() {\n    const [doctors, setDoctors] = useState([]);\n    const [currentDoctorId, setCurrentDoctorId] = useState(\"\");\n    const [patientName, setPatientName] = useState(\"\");\n    const [patientEmail, setPatientEmail] = useState(\"\");\n    const [patientContact, setPatientContact] = useState(\"\");\n    const [bookingDate, setBookingDate] = useState(\"\");\n    const [timeSlots, setTimeSlots] = useState([]);\n    const [selectedTimeSlot, setSelectedTimeSlot] = useState(\"\");\n\n    useEffect(() => {\n        async function getAllDoctors() {\n            const res = await axios.get(Request.doctorInfo, config);\n            setDoctors(res.data);\n        }\n\n        getAllDoctors();\n\n    }, []);\n\n\n\n    return (\n        <div>\n            <Navbar />\n            <div className='container mt-5'>\n                <div className='row'>\n                    {doctors.map((doctor) => {\n                        return (\n                            <div className='col-3 mt-3'>\n                                <div className='card border border-4'>\n                                    <img class=\"card-img-top w-75 h-50\" src=\"https://i.pinimg.com/originals/9f/32/20/9f3220f4535dd9cd9743b995fdfdeaa1.jpg\" />\n                                    <div className='card-body'>\n                                        <h5 class=\"card-title\">{doctor.name}</h5>\n                                        <p class=\"card-text\">Start Time : {doctor.day_start_time} <br /> End Time : {doctor.day_end_time} <br /> Slot Period : {doctor.appointment_slot_time}</p>\n                                        <button className='btn btn-sm btn-primary' data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\" onClick={(e) => fillDoctorBookingDetails(doctor.id, setCurrentDoctorId, setTimeSlots, doctors)}>Book Appointment</button>\n\n                                    </div>\n                                </div>\n                            </div>\n                        );\n                    })}\n\n                </div>\n            </div>\n            <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div class=\"modal-dialog\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">Enter Your Details</h1>\n                            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                        </div>\n                        <div class=\"modal-body\">\n                            <div class=\"input-group mb-3\">\n                                <span class=\"input-group-text\" id=\"basic-addon1\">Select Date</span>\n                                <input type=\"date\" class=\"form-control\" value={bookingDate} onChange={(e) => { setBookingDate(e.target.value) }} />\n                            </div>\n                            <div class=\"input-group mb-3\">\n                                <span class=\"input-group-text\" id=\"basic-addon1\">Enter Name</span>\n                                <input type=\"text\" class=\"form-control\" value={patientName} onChange={(e) => { setPatientName(e.target.value) }} />\n                            </div>\n                            <div class=\"input-group mb-3\">\n                                <span class=\"input-group-text\" id=\"basic-addon1\">Email</span>\n                                <input type=\"email\" class=\"form-control\" value={patientEmail} onChange={(e) => { setPatientEmail(e.target.value) }} />\n                            </div>\n                            <div class=\"input-group mb-3\">\n                                <span class=\"input-group-text\" id=\"basic-addon1\">Contact</span>\n                                <input type=\"text\" class=\"form-control\" value={patientContact} onChange={(e) => { setPatientContact(e.target.value) }} />\n                            </div>\n                            <div className='container'>\n                                <h5>Selected Time Slot : {selectedTimeSlot}</h5>\n                                <div className='row'>\n\n                                    {timeSlots.map((timeslt) => {\n                                        return (\n                                            <div className='col-4 m-2 border border-3 rounded-pill border-warning'>\n                                                <div class=\"input-group mx-auto\">\n\n                                                    <input class=\"m-2\" type=\"checkbox\" value={timeslt} onChange={e => handleSelectedTimeSlot(e, setSelectedTimeSlot)} />\n                                                    <span class=\"input-group-text-4 m-1\">{timeslt}</span>\n                                                </div>\n                                            </div>\n                                        );\n                                    })}\n\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"modal-footer\">\n                            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                            <button type=\"button\" class=\"btn btn-info\" onClick={() => bookAppointment(currentDoctorId, bookingDate, selectedTimeSlot, patientName, patientEmail, patientContact)}>Book</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}