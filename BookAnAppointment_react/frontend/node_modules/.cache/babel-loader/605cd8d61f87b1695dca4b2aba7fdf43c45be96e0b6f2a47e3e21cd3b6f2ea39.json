{"ast":null,"code":"import Request from '../Actions/Request';\nimport axios from 'axios';\nimport { config } from '../Services/Constants';\nimport { useNavigate } from 'react-router-dom';\nconst navigate = useNavigate();\nexport async function Authenticate(name, email, password, repassword, type, setMessage) {\n  if (type === 'signup') {\n    let data = {\n      name,\n      email,\n      password,\n      repassword,\n      type\n    };\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    };\n    const body = JSON.stringify(data);\n    const res = await axios.post(Request.auth, body, config);\n    if (res.data.status !== 200) {\n      setMessage(res.data.error);\n    } else {\n      navigate(\"/signin\");\n    }\n  } else if (type === 'signin') {\n    let data = {\n      email,\n      password,\n      type\n    };\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    };\n    const body = JSON.stringify(data);\n    const res = await axios.post(Request.auth, body, config);\n    if (res.data.status !== 200) {\n      setMessage(res.data.error);\n    } else {\n      localStorage.setItem('isAutenticated', true);\n      localStorage.setItem('user', res.data.name);\n      localStorage.setItem('userEmail', res.data.username);\n      navigate(\"/dashboard\");\n    }\n  }\n}\n_c = Authenticate;\nvar _c;\n$RefreshReg$(_c, \"Authenticate\");","map":{"version":3,"names":["Request","axios","config","useNavigate","navigate","Authenticate","name","email","password","repassword","type","setMessage","data","headers","body","JSON","stringify","res","post","auth","status","error","localStorage","setItem","username"],"sources":["/home/pragatim/code/BookAnAppointment_react/frontend/src/Services/FormServices.js"],"sourcesContent":["import Request from '../Actions/Request';\nimport axios from 'axios';\nimport { config } from '../Services/Constants';\nimport { useNavigate } from 'react-router-dom';\n\nconst navigate = useNavigate();\nexport async function Authenticate(name, email, password, repassword, type, setMessage) {\n    if (type === 'signup') {\n        let data = { name, email, password, repassword, type };\n        const config = {\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            }\n        };\n        const body = JSON.stringify(data);\n\n        const res = await axios.post(Request.auth, body, config);\n        if (res.data.status !== 200) {\n            setMessage(res.data.error);\n        } else {\n            navigate(\"/signin\");\n        }\n    }\n    else if (type === 'signin') {\n        let data = { email, password, type };\n        const config = {\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            }\n        };\n        const body = JSON.stringify(data);\n\n        const res = await axios.post(Request.auth, body, config);\n\n        if (res.data.status !== 200) {\n            setMessage(res.data.error);\n        } else {\n            localStorage.setItem('isAutenticated', true);\n            localStorage.setItem('user', res.data.name);\n            localStorage.setItem('userEmail', res.data.username);\n            navigate(\"/dashboard\");\n        }\n    }\n}"],"mappings":"AAAA,OAAOA,OAAO,MAAM,oBAAoB;AACxC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,uBAAuB;AAC9C,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,QAAQ,GAAGD,WAAW,EAAE;AAC9B,OAAO,eAAeE,YAAY,CAACC,IAAI,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,IAAI,EAAEC,UAAU,EAAE;EACpF,IAAID,IAAI,KAAK,QAAQ,EAAE;IACnB,IAAIE,IAAI,GAAG;MAAEN,IAAI;MAAEC,KAAK;MAAEC,QAAQ;MAAEC,UAAU;MAAEC;IAAK,CAAC;IACtD,MAAMR,MAAM,GAAG;MACXW,OAAO,EAAE;QACL,cAAc,EAAE,kBAAkB;QAClC,QAAQ,EAAE;MACd;IACJ,CAAC;IACD,MAAMC,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC;IAEjC,MAAMK,GAAG,GAAG,MAAMhB,KAAK,CAACiB,IAAI,CAAClB,OAAO,CAACmB,IAAI,EAAEL,IAAI,EAAEZ,MAAM,CAAC;IACxD,IAAIe,GAAG,CAACL,IAAI,CAACQ,MAAM,KAAK,GAAG,EAAE;MACzBT,UAAU,CAACM,GAAG,CAACL,IAAI,CAACS,KAAK,CAAC;IAC9B,CAAC,MAAM;MACHjB,QAAQ,CAAC,SAAS,CAAC;IACvB;EACJ,CAAC,MACI,IAAIM,IAAI,KAAK,QAAQ,EAAE;IACxB,IAAIE,IAAI,GAAG;MAAEL,KAAK;MAAEC,QAAQ;MAAEE;IAAK,CAAC;IACpC,MAAMR,MAAM,GAAG;MACXW,OAAO,EAAE;QACL,cAAc,EAAE,kBAAkB;QAClC,QAAQ,EAAE;MACd;IACJ,CAAC;IACD,MAAMC,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC;IAEjC,MAAMK,GAAG,GAAG,MAAMhB,KAAK,CAACiB,IAAI,CAAClB,OAAO,CAACmB,IAAI,EAAEL,IAAI,EAAEZ,MAAM,CAAC;IAExD,IAAIe,GAAG,CAACL,IAAI,CAACQ,MAAM,KAAK,GAAG,EAAE;MACzBT,UAAU,CAACM,GAAG,CAACL,IAAI,CAACS,KAAK,CAAC;IAC9B,CAAC,MAAM;MACHC,YAAY,CAACC,OAAO,CAAC,gBAAgB,EAAE,IAAI,CAAC;MAC5CD,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEN,GAAG,CAACL,IAAI,CAACN,IAAI,CAAC;MAC3CgB,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEN,GAAG,CAACL,IAAI,CAACY,QAAQ,CAAC;MACpDpB,QAAQ,CAAC,YAAY,CAAC;IAC1B;EACJ;AACJ;AAAC,KAvCqBC,YAAY;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}