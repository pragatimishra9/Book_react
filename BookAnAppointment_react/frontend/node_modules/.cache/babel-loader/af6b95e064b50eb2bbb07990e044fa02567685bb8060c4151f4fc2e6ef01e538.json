{"ast":null,"code":"import _regeneratorRuntime from\"/home/pragatim/code/BookAnAppointment_react/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/pragatim/code/BookAnAppointment_react/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import Request from'../Actions/Request';import axios from'axios';import{config}from'../Services/Constants';export function Authenticate(_x,_x2,_x3,_x4,_x5,_x6,_x7){return _Authenticate.apply(this,arguments);}function _Authenticate(){_Authenticate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(email,password,type,setMessage,navigate,name,repassword){var data,body,res,_data,_body,_res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(type==='signup')){_context.next=9;break;}data={name:name,email:email,password:password,repassword:repassword,type:type};body=JSON.stringify(data);_context.next=5;return axios.post(Request.auth,body,config);case 5:res=_context.sent;if(res.data.status!==200){setMessage(res.data.error);}else{navigate(\"/signin\");}_context.next=16;break;case 9:if(!(type==='signin')){_context.next=16;break;}_data={email:email,password:password,type:type};_body=JSON.stringify(_data);_context.next=14;return axios.post(Request.auth,_body,config);case 14:_res=_context.sent;if(_res.data.status!==200){setMessage(_res.data.error);}else{localStorage.setItem('isAutenticated',true);localStorage.setItem('user',_res.data.name);localStorage.setItem('userEmail',_res.data.username);navigate(\"/dashboard\");}case 16:case\"end\":return _context.stop();}},_callee);}));return _Authenticate.apply(this,arguments);}","map":{"version":3,"names":["Request","axios","config","Authenticate","email","password","type","setMessage","navigate","name","repassword","data","body","JSON","stringify","post","auth","res","status","error","localStorage","setItem","username"],"sources":["/home/pragatim/code/BookAnAppointment_react/frontend/src/Services/FormServices.js"],"sourcesContent":["import Request from '../Actions/Request';\nimport axios from 'axios';\nimport { config } from '../Services/Constants';\n\n\n\nexport async function Authenticate(email, password, type, setMessage, navigate, name, repassword) {\n    if (type === 'signup') {\n        let data = { name, email, password, repassword, type };\n\n        const body = JSON.stringify(data);\n\n        const res = await axios.post(Request.auth, body, config);\n        if (res.data.status !== 200) {\n            setMessage(res.data.error);\n        } else {\n            navigate(\"/signin\");\n        }\n    }\n    else if (type === 'signin') {\n        let data = { email, password, type };\n\n        const body = JSON.stringify(data);\n\n        const res = await axios.post(Request.auth, body, config);\n\n        if (res.data.status !== 200) {\n            setMessage(res.data.error);\n        } else {\n            localStorage.setItem('isAutenticated', true);\n            localStorage.setItem('user', res.data.name);\n            localStorage.setItem('userEmail', res.data.username);\n            navigate(\"/dashboard\");\n        }\n    }\n}"],"mappings":"oSAAA,MAAOA,QAAO,KAAM,oBAAoB,CACxC,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,MAAM,KAAQ,uBAAuB,CAI9C,eAAsBC,aAAY,yEA6BjC,iGA7BM,iBAA4BC,KAAK,CAAEC,QAAQ,CAAEC,IAAI,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,IAAI,CAAEC,UAAU,2JACxFJ,IAAI,GAAK,QAAQ,0BACbK,IAAI,CAAG,CAAEF,IAAI,CAAJA,IAAI,CAAEL,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAQ,CAAEK,UAAU,CAAVA,UAAU,CAAEJ,IAAI,CAAJA,IAAK,CAAC,CAEhDM,IAAI,CAAGC,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC,uBAEfV,MAAK,CAACc,IAAI,CAACf,OAAO,CAACgB,IAAI,CAAEJ,IAAI,CAAEV,MAAM,CAAC,QAAlDe,GAAG,eACT,GAAIA,GAAG,CAACN,IAAI,CAACO,MAAM,GAAK,GAAG,CAAE,CACzBX,UAAU,CAACU,GAAG,CAACN,IAAI,CAACQ,KAAK,CAAC,CAC9B,CAAC,IAAM,CACHX,QAAQ,CAAC,SAAS,CAAC,CACvB,CAAC,mCAEIF,IAAI,GAAK,QAAQ,2BAClBK,KAAI,CAAG,CAAEP,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAQ,CAAEC,IAAI,CAAJA,IAAK,CAAC,CAE9BM,KAAI,CAAGC,IAAI,CAACC,SAAS,CAACH,KAAI,CAAC,wBAEfV,MAAK,CAACc,IAAI,CAACf,OAAO,CAACgB,IAAI,CAAEJ,KAAI,CAAEV,MAAM,CAAC,SAAlDe,IAAG,eAET,GAAIA,IAAG,CAACN,IAAI,CAACO,MAAM,GAAK,GAAG,CAAE,CACzBX,UAAU,CAACU,IAAG,CAACN,IAAI,CAACQ,KAAK,CAAC,CAC9B,CAAC,IAAM,CACHC,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAE,IAAI,CAAC,CAC5CD,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEJ,IAAG,CAACN,IAAI,CAACF,IAAI,CAAC,CAC3CW,YAAY,CAACC,OAAO,CAAC,WAAW,CAAEJ,IAAG,CAACN,IAAI,CAACW,QAAQ,CAAC,CACpDd,QAAQ,CAAC,YAAY,CAAC,CAC1B,CAAC,sDAER"},"metadata":{},"sourceType":"module","externalDependencies":[]}